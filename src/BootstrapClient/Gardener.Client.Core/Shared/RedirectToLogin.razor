@inject NavigationManager Navigation

@code {
    protected override void OnInitialized()
    {
        string returnUrl = "";
        var uri = new Uri(Navigation.Uri);
        if (!uri.AbsolutePath.Equals("/auth/login"))
        {
            returnUrl = Navigation.Uri;
        }
        var query = uri.Query;

        if (Microsoft.AspNetCore.WebUtilities.QueryHelpers.ParseQuery(query).TryGetValue("returnUrl", out var value))
        {
            returnUrl = value;
        }
        returnUrl = Uri.EscapeDataString(returnUrl);
        Navigation.NavigateTo($"/auth/login{(string.IsNullOrEmpty(returnUrl)?"": "?returnUrl="+ returnUrl)}");
    }
}